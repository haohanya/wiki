"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[7641],{3905:(e,t,l)=>{l.d(t,{Zo:()=>u,kt:()=>b});var a=l(7294);function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function r(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,a)}return l}function s(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?r(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function p(e,t){if(null==e)return{};var l,a,n=function(e,t){if(null==e)return{};var l,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)l=r[a],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var o=a.createContext({}),m=function(e){var t=a.useContext(o),l=t;return e&&(l="function"==typeof e?e(t):s(s({},t),e)),l},u=function(e){var t=m(e.components);return a.createElement(o.Provider,{value:t},e.children)},i="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var l=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,u=p(e,["components","mdxType","originalType","parentName"]),i=m(l),c=n,b=i["".concat(o,".").concat(c)]||i[c]||d[c]||r;return l?a.createElement(b,s(s({ref:t},u),{},{components:l})):a.createElement(b,s({ref:t},u))}));function b(e,t){var l=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=l.length,s=new Array(r);s[0]=c;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p[i]="string"==typeof e?e:n,s[1]=p;for(var m=2;m<r;m++)s[m]=l[m];return a.createElement.apply(null,s)}return a.createElement.apply(null,l)}c.displayName="MDXCreateElement"},9744:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>p,toc:()=>m});var a=l(7462),n=(l(7294),l(3905));const r={sidebar_position:4},s="\u5907\u4efd\u4e0e\u6062\u590d",p={unversionedId:"\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u5907\u4efd\u4e0e\u6062\u590d",id:"\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u5907\u4efd\u4e0e\u6062\u590d",title:"\u5907\u4efd\u4e0e\u6062\u590d",description:"\u5907\u4efd",source:"@site/docs/\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u5907\u4efd\u4e0e\u6062\u590d.md",sourceDirName:"\u540e\u7aef/\u6570\u636e\u5e93/MySQL",slug:"/\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u5907\u4efd\u4e0e\u6062\u590d",permalink:"/docs/\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u5907\u4efd\u4e0e\u6062\u590d",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"\u65e5\u5fd7",permalink:"/docs/\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u65e5\u5fd7"},next:{title:"\u6027\u80fd\u8c03\u4f18",permalink:"/docs/\u540e\u7aef/\u6570\u636e\u5e93/MySQL/\u6027\u80fd\u8c03\u4f18"}},o={},m=[{value:"\u5907\u4efd",id:"\u5907\u4efd",level:2},{value:"\u4f7f\u7528 mysqldump \u5907\u4efd",id:"\u4f7f\u7528-mysqldump-\u5907\u4efd",level:3},{value:"\u683c\u5f0f",id:"\u683c\u5f0f",level:4},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:4},{value:"\u4f7f\u7528 mysqlpump \u5907\u4efd",id:"\u4f7f\u7528-mysqlpump-\u5907\u4efd",level:3},{value:"\u4f7f\u7528 mydumper \u5907\u4efd",id:"\u4f7f\u7528-mydumper-\u5907\u4efd",level:3},{value:"\u4f7f\u7528 binlog \u5907\u4efd",id:"\u4f7f\u7528-binlog-\u5907\u4efd",level:3},{value:"\u6062\u590d\u6570\u636e",id:"\u6062\u590d\u6570\u636e",level:2},{value:"\u4f7f\u7528 mysqldump\u3001mysqlpump\u6062\u590d",id:"\u4f7f\u7528-mysqldumpmysqlpump\u6062\u590d",level:3},{value:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6062\u590d",id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6062\u590d",level:3},{value:"master",id:"master",level:4},{value:"slave",id:"slave",level:4}],u={toc:m},i="wrapper";function d(e){let{components:t,...l}=e;return(0,n.kt)(i,(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"\u5907\u4efd\u4e0e\u6062\u590d"},"\u5907\u4efd\u4e0e\u6062\u590d"),(0,n.kt)("h2",{id:"\u5907\u4efd"},"\u5907\u4efd"),(0,n.kt)("h3",{id:"\u4f7f\u7528-mysqldump-\u5907\u4efd"},"\u4f7f\u7528 mysqldump \u5907\u4efd"),(0,n.kt)("h4",{id:"\u683c\u5f0f"},"\u683c\u5f0f"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"## mysqldump [options] \n## --user <username> or -u <username>\n## --password <password> or -p<password>\n")),(0,n.kt)("h4",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-powershell"},'## \u6574\u5e93\u5907\u4efd\nmysqldump -u root -pmysql2022 --all-databases > alldump.sql\n## \u65f6\u95f4\u70b9\u6062\u590d\nmysqldump -u root -p123456 --databases test --single-transaction --master-data > master-dump.sql\n## \u5907\u4efd\u6307\u5b9a\u8868\nmysqldump -u root -p123456 --databases test --tables table_1 > table_1-dump.sql\n## \u5ffd\u7565\u8868\nmysqldump -u root -p123456 --databases test --ignore-table=test.table_1 > ignore-table-dump.sql\n## \u6307\u5b9a\u884c(\u5047\u8bbe\u5907\u4efdtest\u6570\u636e\u5e93\u4e2d table_1\u8868 id\u5927\u4e8e2\u7684 10\u6761 \u6570\u636e)\nmysqldump -u root -p123456 --databases test --tables table_1 --where="id > 2 limit 10" > where-dump.sql\n## \u8fdc\u7a0b\u5907\u4efd: [] \u5305\u88f9\u7684\u662f\u53ef\u9009\u7684\uff0c\u4f5c\u7528\u662f\u4f7f\u7528ssl\uff0c\u5982\u679c\u6ca1\u6709\u542f\u7528\u53ef\u4ee5\u4e0d\u52a0\nmysqldump --all-databases --routines --events --triggers -h <IP\u5730\u5740> -P 3306 -u <\u7528\u6237\u540d> -p<\u5bc6\u7801> [--ssl-cert=client-cert.pem --ssl-key=client-key.pem] > host-dump.sql\n## \u5907\u4efd\u4e0d\u5305\u542b\u6570\u636e\u7684sql\nmysqldump -u root -p123456 --databases test --tables table_1 --no-data > no-data-dump.sql\n## \u4ec5\u5907\u4efdinsert\uff1a--complete-insert \u8868\u793a\uff0c\u5728 insert sql\u4e2d\uff0c\u52a0\u5165\u8981\u63d2\u5165\u7684\u5217\u540d\nmysqldump -u root -p123456 --databases test --tables table_1 --no-create-db --no-create-info --complete-insert > insert-dump.sql\n## \u65b0\u6570\u636e\u66ff\u6362\n## \u5047\u8bbe\u9700\u8981\u5c06\u6570\u636e\u4ece\u751f\u4ea7\u6570\u636e\u6062\u590d\u5230\u4ee5\u6709\u4e00\u4e9b\u6570\u636e\u7684\u5f00\u53d1\u670d\u52a1\u5668\uff1b\u5c06\u751f\u4ea7\u6570\u636e\u5408\u5e76\u5230\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528 --reokact \u9009\u9879\n## \u8be5\u9009\u9879\u5c06\u4f7f\u7528 replace info \u8bed\u53e5\u800c\u4e0d\u662f insert \u8bed\u53e5\uff1b\nmysqldump -u root -p123456 --databases test --tables table_1 --skip-add-drop-table --no-create-info --replace > replace-dump.sql\n## \u4e8c\u8fdb\u5236\u5907\u4efd\uff08\u5907\u4efd\u59cb\u7ec8\u5728\u4ece\u670d\u52a1\u5668\u4e0a\u8fdb\u884c;\u8981\u83b7\u53d6\u5907\u4efd\u65f6\u4e3b\u670d\u52a1\u5668\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528--dump-slave; \u5982\u679c\u4ece\u4e3b\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u4e8c\u8fdb\u5236\u65e5\u5fd7\u5907\u4efd\uff0c\u9700\u8981\u4f7f\u7528--master-data\uff09\nmysqldump --all-databases -h 27.50.161.163 -P 3306 -u admin -p123456 --ssl-cert=client-cert.pem --ssl-key=client-key.pem --single-transaction --master-data > master.sql\n')),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"--all-databases\uff1a\u5907\u4efd\u6574\u5e93\uff0c\u5982\u679c\u9700\u8981\u5907\u4efd\u6307\u5b9a\u6570\u636e\u5e93\uff0c\u5219\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"--databases test")),(0,n.kt)("p",{parentName:"blockquote"},"\u6b64\u547d\u4ee4\u9ed8\u8ba4\u4e0d\u4f1a\u5907\u4efd\u5b58\u50a8\u8fc7\u7a0b\u548c\u4e8b\u4ef6\uff0c\u5982\u679c\u9700\u8981\u5907\u4efd\u5219\u9700\u8981\u52a0\u5165\u4ee5\u4e0b\u53c2\u6570\uff1b\u5728 --all-databases \u540e\u9762\u52a0\u5165"),(0,n.kt)("p",{parentName:"blockquote"},"--routines\uff1a\u5907\u4efd\u5b58\u50a8\u8fc7\u7a0b"),(0,n.kt)("p",{parentName:"blockquote"},"--events\uff1a\u5907\u4efd\u4e8b\u4ef6"),(0,n.kt)("p",{parentName:"blockquote"},"--single-transaction\uff1a\u6b64\u53c2\u6570\u5c06\u4e8b\u52a1\u9694\u79bb\u6a21\u5f0f\u66f4\u6539\u4e3a ",(0,n.kt)("inlineCode",{parentName:"p"},"REPEATABLE READ"),"\u6a21\u5f0f\uff0c\u5e76\u6267\u884c ",(0,n.kt)("inlineCode",{parentName:"p"},"START TRANSACTION"),"\u6765\u63d0\u4f9b\u4e00\u81f4\u7684\u5907\u4efd\uff1b\u9002\u7528\u4e8e InnoDB \u4e4b\u7c7b\u7684\u4e8b\u52a1\u8868\uff0c\u56e0\u4e3a\u5b83\u5728",(0,n.kt)("inlineCode",{parentName:"p"},"START TRANSACTION"),"\u6267\u884c\u65f6\u53ef\u4ee5\u4fdd\u5b58\u6570\u636e\u5e93\u7684\u4e00\u81f4\u72b6\u6001\u800c\u4e0d\u963b\u585e\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f"),(0,n.kt)("p",{parentName:"blockquote"},"--master-data\uff1a\u9009\u62e9\u5c06\u670d\u52a1\u5668\u7684\u4e8c\u8fdb\u5236\u65e5\u5fd7\u7684\u4f4d\u7f6e\u8f93\u51fa\u5230 master-dump.sql \u6587\u4ef6\uff0c\u5982\u679c --master-data=2\uff0c\u4ed6\u5c06\u6253\u5370\u6ce8\u91ca\uff0c\u4ed6\u4e5f\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"FLUSH TABLES WITH READ LOCK"),"\u8bed\u53e5\u6765\u83b7\u53d6\u4e8c\u8fdb\u5236\u65e5\u5fd7\u7684\u5feb\u7167")),(0,n.kt)("h3",{id:"\u4f7f\u7528-mysqlpump-\u5907\u4efd"},"\u4f7f\u7528 mysqlpump \u5907\u4efd"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"## \u5e76\u884c\u5904\u7406 --default-parallelism\uff1a\u8868\u793a\u6307\u5b9a4\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5904\u7406\nmysqlpump -u root -p123456 --default-parallelism=4 > parallelism-pump.sql\n## \u7ed9\u67d0\u4e00\u4e2a\u5e93\u6307\u5b9a\u7ebf\u7a0b --parallel-schemas=2:test\uff1a\u8868\u793a\u7ed9test\u6570\u636e\u5e93\u8bbe\u7f6e\u4e24\u4e2a\u7ebf\u7a0b\u5904\u7406\uff0c\u5176\u4ed6\u9ed8\u8ba44\u4e2a\u7ebf\u7a0b\u5904\u7406\uff1b\u591a\u4e2a\u6570\u636e\u5e93,\u5206\u5272\uff1b\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a--parallel-schemas\nmysqlpump -u root -p123456 --default-parallelism=4 --parallel-schemas=2:test > parallel-schemes-pump.sql\n## \u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f --include-databases\uff1a\u8868\u793a \u5907\u4efd\u4ee5tes\u5f00\u5934\u7684\u6570\u636e\u5e93; \u5339\u914d\u7b26\u53f7\u5305\u542b\uff1a%\u4efb\u610f\u591a\u4e2a\u5b57\u7b26\uff1b_\u4efb\u610f\u4e00\u4e2a\u5b57\u7b26\nmysqlpump -u root -p123456 --include-databases=tes% > include-pump.sql\n## \u6392\u9664\u8868\nmysqlpump -u root -p123456 --include-databases=tes% --exclude-tables=table_1 > exclude-tables-pump.sql\n## \u5907\u4efd\u7528\u6237\nmysqlpump -u root -p123456 --exclude-databases=% --users > user.pump.sql\n\n## \u538b\u7f29\u5907\u4efd-lz4\nmysqlpump -u root -p123456 --compress-output=lz4 > lz4.pump.lz4\n## \u7ffb\u8bd1\u538b\u7f29\u5907\u4efd-lz4\nlz4_decompress lz4.pump.lz4 lz4.pump.sql\n\n## \u538b\u7f29\u5907\u4efd-zlib\nmysqlpump -u root -p123456 --compress-output=zlib > zlib.pump.zlib\n## \u7ffb\u8bd1\u538b\u7f29\u5907\u4efd-zlib\nzlib_decompress zlib.pump.zlib zlib.pump.sql\n")),(0,n.kt)("h3",{id:"\u4f7f\u7528-mydumper-\u5907\u4efd"},"\u4f7f\u7528 mydumper \u5907\u4efd"),(0,n.kt)("p",null,"mydumper \u662f\u4e00\u4e2a\u7c7b\u4f3c\u4e8emysqlpump\u7684\u903b\u8f91\u5907\u4efd\u5de5\u5177"),(0,n.kt)("p",null,"\u4e0emysqldump\u76f8\u6bd4\u5982\u4e0b"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5e76\u884c\uff08\u901f\u5ea6\u66f4\u5feb\uff09\u548c\u6027\u80fd\uff08\u907f\u514d\u4f7f\u7528\u590d\u6742\u7684\u5b57\u7b26\u96c6\u8f6c\u6362\u4f8b\u7a0b\uff0c\u56e0\u800c\u4ee3\u7801\u603b\u4f53\u4e0a\u5f88\u9ad8\u6548\uff09"),(0,n.kt)("li",{parentName:"ul"},"\u4e00\u81f4\u6027\u3002mydumper\u7ef4\u62a4\u6240\u6709\u7ebf\u7a0b\u5feb\u7167\uff0c\u63d0\u4f9b\u51c6\u786e\u7684\u4e3b\u5e93\u548c\u4ece\u5e93\u65e5\u5fd7\u4f4d\u7f6e\u7b49\u3002mysqlpump\u4e0d\u4fdd\u8bc1\u4e00\u81f4\u6027"),(0,n.kt)("li",{parentName:"ul"},"\u66f4\u6613\u4e8e\u7ba1\u7406\u8f93\u51fa\uff08\u5c06\u8868\u4e2a\u5143\u6570\u636e\u6587\u4ef6\u5206\u79bb\uff0c\u5e76\u4e14\u65b9\u4fbf\u67e5\u770b/\u89e3\u6790\u6570\u636e\uff09\u3002mysqlpump\u5c06\u6240\u6709\u5185\u5bb9\u5199\u5165\u4e00\u4e2a\u6587\u4ef6\uff0c\u8fd9\u9650\u5236\u4e86\u52a0\u8f7d\u90e8\u5206\u6570\u636e\u5e93\u5bf9\u8c61\u7684\u9009\u9879"),(0,n.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u5305\u542b\u548c\u6392\u9664\u6570\u636e\u5e93\u5bf9\u8c61"),(0,n.kt)("li",{parentName:"ul"},"\u6709\u7528\u4e8e\u7ec8\u6b62\u963b\u585e\u5907\u4efd\u548c\u6240\u6709\u540e\u7eed\u67e5\u8be2\u7684\u957f\u4e8b\u52a1\u7684\u9009\u9879")),(0,n.kt)("p",null,"\u770b\u8d77\u6765\u5f88\u7f8e\u597d\u5bf9\u5417\uff0c\u4f46\u662f\u4ed6\u7684\u6700\u5927\u7f3a\u70b9\u5c31\u662f\u6ca1\u6709\u5728mysql\u4e2d\u96c6\u6210\uff0c\u9700\u8981\u5355\u72ec\u5b89\u88c5"),(0,n.kt)("h3",{id:"\u4f7f\u7528-binlog-\u5907\u4efd"},"\u4f7f\u7528 binlog \u5907\u4efd"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"mysqlbinlog -h 27.50.161.163 -P 3306 -u admin -p123456 --ssl-cert=client-cert.pem --ssl-key=client-key.pem --read-from-remote-server --stop-never --to-last-log --raw server1.000001 --result-file=F:\\linux\\ &\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"--read-from-remote-server\uff1a\u8bfb\u53d6\u8fdc\u7a0b\u65e5\u5fd7"),(0,n.kt)("p",{parentName:"blockquote"},"--to-last-log\uff1a\u4ece server1.000001 \u4e4b\u540e\u7684\u6240\u6709\u4e8c\u8fdb\u5236\u65e5\u5fd7"),(0,n.kt)("p",{parentName:"blockquote"},"--stop-never\uff1a\u4fdd\u6301\u8fde\u63a5\uff0c\u4e0d\u65ad\u7684\u62c9\u53d6\u6700\u65b0\u7684\u65e5\u5fd7")),(0,n.kt)("h2",{id:"\u6062\u590d\u6570\u636e"},"\u6062\u590d\u6570\u636e"),(0,n.kt)("h3",{id:"\u4f7f\u7528-mysqldumpmysqlpump\u6062\u590d"},"\u4f7f\u7528 mysqldump\u3001mysqlpump\u6062\u590d"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"## \u6682\u65f6\u5173\u6389binlog\uff08session\u7ea7\u522b\uff0c\u65ad\u5f00\u8fde\u63a5\u5373\u5931\u6548\uff09\nset SQL_LOG_BIN=0; \nsource dump.sql;\n")),(0,n.kt)("h3",{id:"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6062\u590d"},"\u4f7f\u7528\u4e8c\u8fdb\u5236\u6062\u590d"),(0,n.kt)("h4",{id:"master"},"master"),(0,n.kt)("p",null,"\u5728\u4e0a\u9762\u4f7f\u7528\u4e86 mysqldump --master-data \u8fdb\u884c\u5907\u4efd\u540e\uff0c\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff0c\u83b7\u53d6\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6\u4ee5\u53ca\u8d77\u59cb\u4f4d\u7f6e"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"head -30 master.sql\n")),(0,n.kt)("p",null,"\u6b64\u547d\u4ee4\u6700\u7ec8\u6253\u5370\u7ed3\u679c\u5982\u4e0b"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-sql"},"-- MySQL dump 10.13  Distrib 8.0.15, for Win64 (x86_64)\n--\n-- Host: 27.50.161.163    Database: test\n-- ------------------------------------------------------\n-- Server version       8.0.27\n\n/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n SET NAMES utf8mb4 ;\n/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;\n/*!40103 SET TIME_ZONE='+00:00' */;\n/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\n--\n-- Position to start replication or point-in-time recovery from\n--\n\nCHANGE MASTER TO MASTER_LOG_FILE='server1.000006', MASTER_LOG_POS=7830;\n\n--\n-- Current Database: `test`\n--\n\nCREATE DATABASE /*!32312 IF NOT EXISTS*/ `test` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;\n\nUSE `test`;\n")),(0,n.kt)("p",null,"\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u7b2c21\u884c\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"CHANGE MASTER TO MASTER_LOG_FILE='server1.000006', MASTER_LOG_POS=7830;")),(0,n.kt)("p",null,"\u8fd9\u884csql\u8868\u793a\uff0c\u672c\u6b21\u5907\u4efd\u7684master\u7684\u65e5\u5fd7\u6587\u4ef6\u662f\u4eceserver1.000006\u76847830\u5750\u6807\u5f00\u59cb\u5907\u4efd\uff0c\u8fd9\u4e24\u4e2a\u503c\u9700\u8981\u8bb0\u4f4f\uff0c\u5f85\u4f1a\u8981\u7528"),(0,n.kt)("p",null,"\u5f00\u59cb\u4f7f\u7528mysqlbinlog\u8fdb\u884c\u6062\u590d"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-shell"},"mysqlbinlog --start-position=7830 --disable-log-bin /data/binlogs/server1.000006 | mysql -u root -p123456 -f\n")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"--start-position\uff1a\u6b64\u53c2\u6570\u5c31\u662f\u4e0a\u9762\u770b\u5230\u7684 ",(0,n.kt)("inlineCode",{parentName:"p"},"MASTER_LOG_POS")),(0,n.kt)("p",{parentName:"blockquote"},"--disable-log-bin\uff1a",(0,n.kt)("inlineCode",{parentName:"p"},"MASTER_LOG_FILE")),(0,n.kt)("p",{parentName:"blockquote"},"-f\uff1a\u8868\u793a\u5373\u4f7f\u65ad\u5f00\u8fde\u63a5\uff0cmysql\u4e5f\u4f1a\u7ee7\u7eed\u6267\u884c\u6062\u590d\u64cd\u4f5c")),(0,n.kt)("h4",{id:"slave"},"slave"),(0,n.kt)("p",null,"\u5728\u4e0a\u9762\u4f7f\u7528\u4e86 mysqldump --dump-slave \u8fdb\u884c\u5907\u4efd\u540e\uff0c\u9700\u8981\u8fdb\u884c\u5982\u4e0b\u64cd\u4f5c\uff0c\u83b7\u53d6\u5230\u4e8c\u8fdb\u5236\u6587\u4ef6\u4ee5\u53ca\u8d77\u59cb\u4f4d\u7f6e"),(0,n.kt)("p",null,"\u548cmaster \u540c\u7406"))}d.isMDXComponent=!0}}]);