"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[6883],{3905:(n,e,a)=>{a.d(e,{Zo:()=>s,kt:()=>m});var r=a(7294);function o(n,e,a){return e in n?Object.defineProperty(n,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[e]=a,n}function t(n,e){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.push.apply(a,r)}return a}function i(n){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?t(Object(a),!0).forEach((function(e){o(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function p(n,e){if(null==n)return{};var a,r,o=function(n,e){if(null==n)return{};var a,r,o={},t=Object.keys(n);for(r=0;r<t.length;r++)a=t[r],e.indexOf(a)>=0||(o[a]=n[a]);return o}(n,e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);for(r=0;r<t.length;r++)a=t[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(n,a)&&(o[a]=n[a])}return o}var l=r.createContext({}),c=function(n){var e=r.useContext(l),a=e;return n&&(a="function"==typeof n?n(e):i(i({},e),n)),a},s=function(n){var e=c(n.components);return r.createElement(l.Provider,{value:e},n.children)},g="mdxType",u={inlineCode:"code",wrapper:function(n){var e=n.children;return r.createElement(r.Fragment,{},e)}},d=r.forwardRef((function(n,e){var a=n.components,o=n.mdxType,t=n.originalType,l=n.parentName,s=p(n,["components","mdxType","originalType","parentName"]),g=c(a),d=o,m=g["".concat(l,".").concat(d)]||g[d]||u[d]||t;return a?r.createElement(m,i(i({ref:e},s),{},{components:a})):r.createElement(m,i({ref:e},s))}));function m(n,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof n||o){var t=a.length,i=new Array(t);i[0]=d;var p={};for(var l in e)hasOwnProperty.call(e,l)&&(p[l]=e[l]);p.originalType=n,p[g]="string"==typeof n?n:o,i[1]=p;for(var c=2;c<t;c++)i[c]=a[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},43:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>t,metadata:()=>p,toc:()=>c});var r=a(7462),o=(a(7294),a(3905));const t={},i="Nacos",p={unversionedId:"\u540e\u7aef/SpringCloud/SpringCloudAlibabaNacos",id:"\u540e\u7aef/SpringCloud/SpringCloudAlibabaNacos",title:"Nacos",description:"\u4ec0\u4e48\u662fNacos",source:"@site/docs/\u540e\u7aef/SpringCloud/SpringCloudAlibabaNacos.md",sourceDirName:"\u540e\u7aef/SpringCloud",slug:"/\u540e\u7aef/SpringCloud/SpringCloudAlibabaNacos",permalink:"/wiki/docs/\u540e\u7aef/SpringCloud/SpringCloudAlibabaNacos",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Ribbon",permalink:"/wiki/docs/\u540e\u7aef/SpringCloud/Ribbon"},next:{title:"Sentinel",permalink:"/wiki/docs/\u540e\u7aef/SpringCloud/SpringCloudAlibabaSentinel"}},l={},c=[{value:"\u4ec0\u4e48\u662fNacos",id:"\u4ec0\u4e48\u662fnacos",level:2},{value:"Nacos\u5b89\u88c5",id:"nacos\u5b89\u88c5",level:2},{value:"\u7248\u672c\u9009\u62e9",id:"\u7248\u672c\u9009\u62e9",level:3},{value:"\u4fee\u6539\u914d\u7f6e",id:"\u4fee\u6539\u914d\u7f6e",level:3},{value:"1\u3001\u6253\u5f00conf/application.properties\u6587\u4ef6",id:"1\u6253\u5f00confapplicationproperties\u6587\u4ef6",level:4},{value:"2\u3001\u5bfc\u5165SQL",id:"2\u5bfc\u5165sql",level:4},{value:"3\u3001\u542f\u52a8",id:"3\u542f\u52a8",level:4},{value:"\u6ce8\u518c\u670d\u52a1",id:"\u6ce8\u518c\u670d\u52a1",level:2},{value:"\u642d\u5efa\u5de5\u7a0b",id:"\u642d\u5efa\u5de5\u7a0b",level:3},{value:"\u6d4b\u8bd5\u542f\u52a8",id:"\u6d4b\u8bd5\u542f\u52a8",level:3},{value:"\u670d\u52a1\u6d88\u8d39\u8005",id:"\u670d\u52a1\u6d88\u8d39\u8005",level:2},{value:"\u914d\u7f6e\u4e2d\u5fc3",id:"\u914d\u7f6e\u4e2d\u5fc3",level:2},{value:"\u642d\u5efa\u5de5\u7a0b",id:"\u642d\u5efa\u5de5\u7a0b-1",level:3},{value:"\u6dfb\u52a0\u914d\u7f6e",id:"\u6dfb\u52a0\u914d\u7f6e",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:3},{value:"NAMESPACE &amp; GROUP",id:"namespace--group",level:3},{value:"\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4",id:"\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4",level:4},{value:"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6",id:"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6",level:4},{value:"\u4fee\u6539\u5de5\u7a0b\u914d\u7f6e",id:"\u4fee\u6539\u5de5\u7a0b\u914d\u7f6e",level:4},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5-1",level:4}],s={toc:c},g="wrapper";function u(n){let{components:e,...a}=n;return(0,o.kt)(g,(0,r.Z)({},s,a,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"nacos"},"Nacos"),(0,o.kt)("h2",{id:"\u4ec0\u4e48\u662fnacos"},"\u4ec0\u4e48\u662fNacos"),(0,o.kt)("p",null,"Nacos \u81f4\u529b\u4e8e\u5e2e\u52a9\u60a8\u53d1\u73b0\u3001\u914d\u7f6e\u548c\u7ba1\u7406\u5fae\u670d\u52a1\u3002Nacos \u63d0\u4f9b\u4e86\u4e00\u7ec4\u7b80\u5355\u6613\u7528\u7684\u7279\u6027\u96c6\uff0c\u5e2e\u52a9\u60a8\u5feb\u901f\u5b9e\u73b0\u52a8\u6001\u670d\u52a1\u53d1\u73b0\u3001\u670d\u52a1\u914d\u7f6e\u3001\u670d\u52a1\u5143\u6570\u636e\u53ca\u6d41\u91cf\u7ba1\u7406\u3002\nNacos \u5e2e\u52a9\u60a8\u66f4\u654f\u6377\u548c\u5bb9\u6613\u5730\u6784\u5efa\u3001\u4ea4\u4ed8\u548c\u7ba1\u7406\u5fae\u670d\u52a1\u5e73\u53f0\u3002 Nacos \u662f\u6784\u5efa\u4ee5\u201c\u670d\u52a1\u201d\u4e3a\u4e2d\u5fc3\u7684\u73b0\u4ee3\u5e94\u7528\u67b6\u6784 (\u4f8b\u5982\u5fae\u670d\u52a1\u8303\u5f0f\u3001\u4e91\u539f\u751f\u8303\u5f0f) \u7684\u670d\u52a1\u57fa\u7840\u8bbe\u65bd\u3002\n\u7b80\u5355\u6765\u8bf4\uff0cNacos\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u670d\u52a1\u7684\u6ce8\u518c\u4e0e\u53d1\u73b0\u3001\u914d\u7f6e\u4e2d\u5fc3\u3001\u670d\u52a1\u603b\u7ebf\u7b49\uff0cNacos\u4e00\u4e2a\u7ec4\u4ef6\u76f8\u5f53\u4e8eEureka\u3001Config\u3001Bus\u4e09\u4e2a\u7ec4\u4ef6"),(0,o.kt)("h2",{id:"nacos\u5b89\u88c5"},"Nacos\u5b89\u88c5"),(0,o.kt)("h3",{id:"\u7248\u672c\u9009\u62e9"},"\u7248\u672c\u9009\u62e9"),(0,o.kt)("p",null,"\u8fdb\u5165",(0,o.kt)("a",{parentName:"p",href:"https://github.com/alibaba/nacos/releases%E5%90%8E%E9%80%89%E6%8B%A9%E7%9B%B8%E5%BA%94%E7%9A%84%E7%89%88%E6%9C%AC%E5%90%8E%E4%B8%8B%E8%BD%BD%E3%80%82"},"https://github.com/alibaba/nacos/releases\u540e\u9009\u62e9\u76f8\u5e94\u7684\u7248\u672c\u540e\u4e0b\u8f7d\u3002")),(0,o.kt)("p",null,"\u8fd9\u91cc\u6211\u91c7\u7528\u7684\u662f1.3.1\u7684Windows\u7248\u672c"),(0,o.kt)("h3",{id:"\u4fee\u6539\u914d\u7f6e"},"\u4fee\u6539\u914d\u7f6e"),(0,o.kt)("h4",{id:"1\u6253\u5f00confapplicationproperties\u6587\u4ef6"},"1\u3001\u6253\u5f00conf/application.properties\u6587\u4ef6"),(0,o.kt)("p",null,"\u5c0633-41\u884c\u914d\u7f6e\u4fee\u6539\u4e3a\u81ea\u5df1\u7684\u6570\u636e\u5e93\u914d\u7f6e"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-properties"},"spring.datasource.platform=mysql\n### Count of DB:\ndb.num=1\n### Connect URL of DB:\ndb.url.0=jdbc:mysql://127.0.0.1:3306/nacos?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useUnicode=true&useSSL=false&serverTimezone=UTC\ndb.user=root\ndb.password=root\n")),(0,o.kt)("h4",{id:"2\u5bfc\u5165sql"},"2\u3001\u5bfc\u5165SQL"),(0,o.kt)("p",null,"\u5c06conf/nacos-mysql.sql\u7684sql\u5bfc\u5165\u5230\u4e0a\u9762\u914d\u7f6e\u7684nacos\u6570\u636e\u5e93\u4e2d"),(0,o.kt)("h4",{id:"3\u542f\u52a8"},"3\u3001\u542f\u52a8"),(0,o.kt)("p",null,"\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u8fdb\u5165\u5230bin/startup.cmd\uff0c\u53cc\u51fb\u8fd0\u884c"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004142515675.png",alt:"image-20201004142515675"})),(0,o.kt)("p",null,"\u51fa\u73b0\u8fd9\u4e2a\u754c\u9762\uff0c\u5982\u679c\u6ca1\u6709\u62a5\u9519\uff0c\u8bf4\u660e\u542f\u52a8\u6210\u529f"),(0,o.kt)("p",null,"\u6211\u4eec\u8bbf\u95eeConsole\u7684\u5730\u5740"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004142550364.png",alt:"image-20201004142550364"})),(0,o.kt)("p",null,"\u7528\u6237\u540d\u548c\u5bc6\u7801\u90fd\u662f\uff1anacos"),(0,o.kt)("p",null,"\u767b\u9646\u6210\u529f\u540e\u5373\u53ef\u770b\u5230\u4e0b\u56fe\u6548\u679c"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004142623794.png",alt:"image-20201004142623794"})),(0,o.kt)("h2",{id:"\u6ce8\u518c\u670d\u52a1"},"\u6ce8\u518c\u670d\u52a1"),(0,o.kt)("h3",{id:"\u642d\u5efa\u5de5\u7a0b"},"\u642d\u5efa\u5de5\u7a0b"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u642d\u5efa\u7236\u5de5\u7a0b\uff1a"),"spring-cloud"),(0,o.kt)("p",null,"pom"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<parent>\n    <groupId>org.springframework.boot</groupId>\n    <artifactId>spring-boot-starter-parent</artifactId>\n    <version>2.2.10.RELEASE</version>\n</parent>\n<properties>\n    <spring-cloud-alibaba.version>2.2.3.RELEASE</spring-cloud-alibaba.version>\n    <spring-cloud-gateway.version>2.2.5.RELEASE</spring-cloud-gateway.version>\n    <spring-cloud-openfeign.version>2.2.5.RELEASE</spring-cloud-openfeign.version>\n</properties>\n\n<dependencyManagement>\n    <dependencies>\n        \x3c!-- spring cloud alibaba --\x3e\n        <dependency>\n            <groupId>com.alibaba.cloud</groupId>\n            <artifactId>spring-cloud-alibaba-dependencies</artifactId>\n            <version>${spring-cloud-alibaba.version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n\n        \x3c!-- gateway \u670d\u52a1\u7f51\u5173 --\x3e\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-gateway-dependencies</artifactId>\n            <version>${spring-cloud-gateway.version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n\n        \x3c!-- openfeign --\x3e\n        <dependency>\n            <groupId>org.springframework.cloud</groupId>\n            <artifactId>spring-cloud-openfeign-dependencies</artifactId>\n            <version>${spring-cloud-openfeign.version}</version>\n            <type>pom</type>\n            <scope>import</scope>\n        </dependency>\n    </dependencies>\n</dependencyManagement>\n")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u642d\u5efaprovider\u5de5\u7a0b\uff1a"),"spring-cloud-alibaba-nacos-discovery-provider"),(0,o.kt)("p",null,"pom"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<parent>\n     <artifactId>spring-cloud-alibaba</artifactId>\n     <groupId>io.mvvm</groupId>\n     <version>1.0-SNAPSHOT</version>\n </parent>\n <dependencies>\n     <dependency>\n         <groupId>org.springframework.boot</groupId>\n         <artifactId>spring-boot-starter-web</artifactId>\n     </dependency>\n \n     <dependency>\n         <groupId>com.alibaba.cloud</groupId>\n         <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n     </dependency>\n </dependencies>\n")),(0,o.kt)("p",null,"application.yml"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"spring:\n   application:\n     name: spring-cloud-alibaba-nacos-discovery-provider\n   cloud:\n     nacos:\n       discovery:\n         server-addr: 127.0.0.1:8848\n server:\n   port: 8888\n")),(0,o.kt)("p",null,"NacosDiscoveryProviderApplication.java"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"package io.mvvm;\n \n import org.springframework.boot.SpringApplication;\n import org.springframework.boot.autoconfigure.SpringBootApplication;\n import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n import org.springframework.web.bind.annotation.GetMapping;\n import org.springframework.web.bind.annotation.PathVariable;\n import org.springframework.web.bind.annotation.RestController;\n \n @SpringBootApplication\n @EnableDiscoveryClient  //\u5f00\u542f\u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0\n public class NacosDiscoveryProviderApplication {\n     public static void main(String[] args) {\n         SpringApplication.run(NacosDiscoveryProviderApplication.class, args);\n     }\n }\n")),(0,o.kt)("h3",{id:"\u6d4b\u8bd5\u542f\u52a8"},"\u6d4b\u8bd5\u542f\u52a8"),(0,o.kt)("p",null,"\u542f\u52a8\u540e\uff0c\u6211\u4eec\u67e5\u770bNacos\u4e2d\u7684\u670d\u52a1\u5217\u8868"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004152830644.png",alt:"image-20201004152830644"})),(0,o.kt)("h2",{id:"\u670d\u52a1\u6d88\u8d39\u8005"},"\u670d\u52a1\u6d88\u8d39\u8005"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u642d\u5efa\u5de5\u7a0b\uff1a"),"spring-cloud-alibaba-nacos-discovery-consumer"),(0,o.kt)("p",null,"pom"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<dependencies>\n    <dependency>\n        <groupId>org.springframework.boot</groupId>\n        <artifactId>spring-boot-starter-web</artifactId>\n    </dependency>\n\n    <dependency>\n        <groupId>com.alibaba.cloud</groupId>\n        <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n    </dependency>\n    \x3c!-- openfeign --\x3e\n    <dependency>\n        <groupId>org.springframework.cloud</groupId>\n        <artifactId>spring-cloud-starter-openfeign</artifactId>\n    </dependency>\n</dependencies>\n")),(0,o.kt)("p",null,"application.yml"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},"spring:\n  application:\n    name: spring-cloud-alibaba-nacos-discovery-consumer\n  cloud:\n    nacos:\n      discovery:\n        server-addr: 127.0.0.1:8848\nserver:\n  port: 8899\n")),(0,o.kt)("p",null,"NacosDiscoveryConsumerApplication.java"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"package io.mvvm;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.client.discovery.EnableDiscoveryClient;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\n\n@SpringBootApplication\n@EnableDiscoveryClient  //\u5f00\u542f\u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0\n@EnableFeignClients     // \u5f00\u542fOpenFeign\npublic class NacosDiscoveryConsumerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(NacosDiscoveryConsumerApplication.class, args);\n    }\n}\n")),(0,o.kt)("p",null,"ConsumerClient.java"),(0,o.kt)("p",null,"\u8fd9\u91cc\u6211\u4eec\u8c03\u7528\u4e0a\u9762\u5199\u7684\u670d\u52a1\u63d0\u4f9b\u8005\u7684echo\u63a5\u53e3"),(0,o.kt)("p",null,"@FeignClient\u4e2d\u7684value\u586b\u5165${spring.application.name}\u5373\u53ef\uff0copenfeign\u5e95\u5c42\u91c7\u7528\u4e86ribbon\u505a\u8d1f\u8f7d\u5747\u8861"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'package io.mvvm.client;\n\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\n\n@FeignClient("spring-cloud-alibaba-nacos-discovery-provider")\npublic interface ConsumerClient {\n\n    @GetMapping("/echo/{string}")\n    String echo(@PathVariable String string);\n\n}\n')),(0,o.kt)("p",null,"ConsumerController.java"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'package io.mvvm.controller;\n\nimport io.mvvm.client.ConsumerClient;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.annotation.Resource;\n\n@RestController\npublic class ConsumerController {\n\n    @Resource\n    private ConsumerClient consumerClient;\n\n    @GetMapping("/get/{str}")\n    public String echo(@PathVariable("str") String string){\n        return consumerClient.echo(string);\n    }\n\n}\n')),(0,o.kt)("p",null,"\u6d4b\u8bd5"),(0,o.kt)("p",null,"\u8bbf\u95eelocalhost:8899/get/123"),(0,o.kt)("h2",{id:"\u914d\u7f6e\u4e2d\u5fc3"},"\u914d\u7f6e\u4e2d\u5fc3"),(0,o.kt)("h3",{id:"\u642d\u5efa\u5de5\u7a0b-1"},"\u642d\u5efa\u5de5\u7a0b"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"\u5728\u7236\u5de5\u7a0b\u4e0b\u642d\u5efa\u5b50\u5de5\u7a0b\uff1a"),"spring-cloud-alibaba-nacos-config"),(0,o.kt)("p",null,"pom"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-xml"},"<dependencies>\n     <dependency>\n         <groupId>org.springframework.boot</groupId>\n         <artifactId>spring-boot-starter-web</artifactId>\n     </dependency>\n \n     \x3c!-- \u670d\u52a1\u6ce8\u518c --\x3e\n     <dependency>\n         <groupId>com.alibaba.cloud</groupId>\n         <artifactId>spring-cloud-starter-alibaba-nacos-discovery</artifactId>\n     </dependency>\n \n     \x3c!-- \u914d\u7f6e\u4e2d\u5fc3 --\x3e\n     <dependency>\n         <groupId>com.alibaba.cloud</groupId>\n         <artifactId>spring-cloud-starter-alibaba-nacos-config</artifactId>\n     </dependency>\n </dependencies>\n")),(0,o.kt)("p",null,"bootstrap.yml"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"}," server:\n   port: 9999\n spring:\n   application:\n     name: spring-cloud-alibaba-nacos-config\n   profiles:\n     active: dev\n   cloud:\n     nacos:\n       config:\n         server-addr: 127.0.0.1:8848\n         file-extension: yaml\n# \u914d\u7f6e\u4e2d\u5fc3\u6587\u4ef6\u540d\u79f0\u62fc\u63a5\u65b9\u5f0f  # ${prefix}-${spring.profiles.active}.${file-extension}\n")),(0,o.kt)("p",null," NacosConfigApplication.java"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'package io.mvvm;\n \n import org.springframework.beans.factory.annotation.Value;\n import org.springframework.boot.SpringApplication;\n import org.springframework.boot.autoconfigure.SpringBootApplication;\n import org.springframework.cloud.client.discovery.EnableDiscoveryClient;\n import org.springframework.cloud.context.config.annotation.RefreshScope;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RestController;\n \n @SpringBootApplication\n @EnableDiscoveryClient  //\u5f00\u542f\u670d\u52a1\u6ce8\u518c\u4e0e\u53d1\u73b0\n public class NacosConfigApplication {\n     public static void main(String[] args) {\n         SpringApplication.run(NacosConfigApplication.class, args);\n     }\n \n     @RestController\n     @RefreshScope       // \u52a8\u6001\u5237\u65b0\u914d\u7f6e\u4fe1\u606f\n     class ConfigController {\n         @Value("${config.version}")\n         private String configVersion;\n \n         @RequestMapping("/get")\n         public String get() {\n             return configVersion;\n         }\n     }\n }\n')),(0,o.kt)("h3",{id:"\u6dfb\u52a0\u914d\u7f6e"},"\u6dfb\u52a0\u914d\u7f6e"),(0,o.kt)("p",null,"\u8bbf\u95eeNacos\u9762\u677f\uff0c\u8fdb\u5165\u5230\uff1a",(0,o.kt)("inlineCode",{parentName:"p"},"\u914d\u7f6e\u7ba1\u7406->\u914d\u7f6e\u5217\u8868->+")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004153509856.png",alt:"image-20201004153509856"})),(0,o.kt)("p",null,"\u5176\u4e2dData ID\u4e00\u822c\u4e3a",(0,o.kt)("inlineCode",{parentName:"p"},"${prefix}-${spring.profiles.active}.${file-extension}")),(0,o.kt)("p",null,"\u540e\u7f00\u7684yaml\u4e0d\u8981\u7b80\u5199\u6210yml\uff0c\u521a\u521a\u6d4b\u8bd5\u51fa\u9519\u3002"),(0,o.kt)("p",null,"\u914d\u7f6e\u683c\u5f0f\u4e00\u822c\u6839\u636e${file-extension}\u51b3\u5b9a"),(0,o.kt)("p",null,"\u8bbe\u7f6e\u5b8c\u6bd5\u540e\u70b9\u51fb\u53d1\u5e03\u5373\u53ef"),(0,o.kt)("h3",{id:"\u6d4b\u8bd5"},"\u6d4b\u8bd5"),(0,o.kt)("p",null,"\u542f\u52a8\u5de5\u7a0b"),(0,o.kt)("p",null,"\u8bbf\u95eeurl\uff08\u5ffd\u7565\u6570\u636e\u4e0d\u4e00\u6837\uff0c\u8fd9\u662f\u4e4b\u524d\u6d4b\u8bd5\u7684\u56fe\uff09"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201004153737381.png",alt:"image-20201004153737381"})),(0,o.kt)("h3",{id:"namespace--group"},"NAMESPACE & GROUP"),(0,o.kt)("p",null,"\u5728Nacos\u4e2d\u6709\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u548c\u5206\u7ec4\u7684\u6982\u5ff5\u3002"),(0,o.kt)("p",null,"\u5176\u4e2d\u547d\u540d\u7a7a\u95f4\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u4e86\u591a\u79df\u6237\u7684\u9694\u79bb\u4f5c\u7528"),(0,o.kt)("p",null,"\u8fd9\u91cc\u6709\u5f88\u591a\u79cd\u65b9\u6848"),(0,o.kt)("p",null,"\u547d\u540d\u7a7a\u95f4\u4ee5\u4e0d\u540c\u7684\u73af\u5883\u8fdb\u884c\u7ba1\u7406\uff0c\u800c\u5206\u7ec4\u4ee5\u9879\u76ee\u533a\u5206\u7ba1\u7406\uff0c"),(0,o.kt)("p",null,"\u4e5f\u53ef\u4ee5\u5c06\u547d\u540d\u7a7a\u95f4\u4ee5\u9879\u76ee\u4f5c\u4e3a\u7ba1\u7406\uff0c\u5206\u7ec4\u4f5c\u4e3a\u4e0d\u540c\u73af\u5883\u7ba1\u7406"),(0,o.kt)("h4",{id:"\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4"},"\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4"),(0,o.kt)("p",null,"\u6dfb\u52a0\u4e00\u4e2a\u65b0\u5728\u547d\u540d\u7a7a\u95f4"),(0,o.kt)("p",null,"\u5176\u4e2dID\u4e00\u822c\u7559\u7a7a\u5373\u53ef\uff0cNacos\u4f1a\u4f7f\u7528UUID\u751f\u6210"),(0,o.kt)("p",null,"\u547d\u540d\u7a7a\u95f4\u540d\uff1a\u6211\u8fd9\u91cc\u5c31\u4ee5\u4e0d\u540c\u73af\u5883\u4f5c\u4e3a\u9694\u79bb\uff0c\u6240\u4ee5\u6dfb\u52a0\u4e00\u4e2adev"),(0,o.kt)("p",null,"\u63cf\u8ff0\uff1a\u4e00\u4e9b\u63cf\u8ff0\uff0c\u907f\u514d\u4e00\u89c9\u9192\u6765\u5fd8\u8bb0\u4e86"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201005232259456.png",alt:"image-20201005232259456"})),(0,o.kt)("h4",{id:"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6"},"\u6dfb\u52a0\u914d\u7f6e\u6587\u4ef6"),(0,o.kt)("p",null,"\u9996\u5148\u8981\u9009\u62e9\u4e0a\u65b9\u7684dev\u73af\u5883\uff0c\u7136\u540e\u70b9\u51fb\u52a0\u53f7"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://img-ages-test0001.oss-cn-hangzhou.aliyuncs.com/images/image-20201005232457767.png",alt:"image-20201005232457767"})),(0,o.kt)("p",null,"\u8fd9\u91cc\u7684Group\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff0c\u4e00\u822c\u5927\u5199\u3002"),(0,o.kt)("p",null,"\u5176\u4ed6\u53c2\u8003\u4e0a\u9762\u5199\u7684\u914d\u7f6e\u6dfb\u52a0Demo"),(0,o.kt)("h4",{id:"\u4fee\u6539\u5de5\u7a0b\u914d\u7f6e"},"\u4fee\u6539\u5de5\u7a0b\u914d\u7f6e"),(0,o.kt)("p",null,"namespace\uff1a\u8fd9\u91cc\u662f\u547d\u540d\u7a7a\u95f4\u7684ID\uff0c\u53ef\u4ee5\u5728\u547d\u540d\u7a7a\u95f4\u5217\u8868\u4e2d\u770b\u5230"),(0,o.kt)("p",null,"group\uff1a\u5c31\u662f\u521a\u521a\u5728\u6dfb\u52a0\u7684\u65f6\u5019\u81ea\u5b9a\u4e49\u7684\uff0c\u586b\u8fdb\u53bb\u5c31\u597d\u4e86"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"}," server:\n   port: 9999\n spring:\n   application:\n     name: spring-cloud-alibaba-nacos-config\n   profiles:\n     active: dev\n   cloud:\n     nacos:\n       config:\n         server-addr: 127.0.0.1:8848  # nacos address\n         file-extension: yaml\n         namespace: c686d204-8595-4bcb-acad-fad2693bc5ae\n         group: SPRINGCLOUDALIBABA_GROUP\n # \u4ee5\u4e0a\u914d\u7f6e\u8868\u793a\uff1a\u5728${namespace}\u547d\u540d\u7a7a\u95f4\u4e2d\u627e\u5230${group}\u5206\u7ec4\u4e2d\u7684${prefix}-${spring.profiles.active}.${file-extension}\u914d\u7f6e\u6587\u4ef6\n")),(0,o.kt)("h4",{id:"\u6d4b\u8bd5-1"},"\u6d4b\u8bd5"),(0,o.kt)("p",null,"\u542f\u52a8\u6d4b\u8bd5\u3002"),(0,o.kt)("p",null,"Git\u5730\u5740\uff1a",(0,o.kt)("a",{parentName:"p",href:"https://gitee.com/aumu/spring-cloud-alibaba-demo"},"https://gitee.com/aumu/spring-cloud-alibaba-demo")))}u.isMDXComponent=!0}}]);